!function(){"use strict";var e=$(".page-wrapper"),a=$('<div class="container agenda-container"></div>'),n=function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()]+", "+["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]+" "+e.getDate()},t=function(e){return 1===e?"1st":2===e?"2nd":3===e?"3rd":e+"th"},p=function(e,a,p){var r,d=12/a,o=p.children();r=n(e),o.each(function(){$(this).removeClass(),$(this).addClass("col-sm-"+d)}),p.append($('<div class="col-sm-'+d+'"></div>').append($('<a href="#'+t(a)+'-day" class="btn btn-block btn-lg btn-info btn-agenda-day">'+r+"</a>")))},r=function(e,a,p){var r=$('<table class="table table-striped table-hover agenda-table"></table>'),d=$("<tbody>");return p.append($('<a id="'+t(a)+'-day" class="anchor"></a>')),p.append($('<div class="agenda-day"></div>').append($('<h2 class="page-header">'+n(e)+"</h2>"))),p.append(r),r.append($("<thead>").append($("<tr>").append($("<th>Time</th>")).append($("<th>Event</th>")))),r.append(d),d},d=function(e,a,n,t){var p,r;p=n(e),r=t(e),a.append($("<tr>").append(p).append(r))},o=function(e){var a,n=$("<td></td>");return a=e.time,e.apsa&&(a+=' <i class="fa fa-user-md"></i>'),n.html(a)},i=function(e){var a,n=$('<div class="more-less"></div>'),t=$('<p class="collapse"></p>'),p=$("<p></p>");return a=Math.floor(1e6*Math.random()+1),t.attr("id",a),t.html(e.description),p.append($('<a data-toggle="collapse" href="#'+a+'" aria-expanded="false" aria-controls="issues-panel">More</a>')),n.append(t),n.append(p),n},s=function(e){var a=$("<td>"),n=e.location||"TBA";return a.append($("<p><strong>"+e.title+"</strong></p>")),a.append($("<p>Location: <em>"+n+"</em></p>")),e.description&&a.append(i(e)),a},l=function(e){var a=$("<td>"),n="",t=e.location||"TBA";if(a.append($("<p><strong>"+e.title+"</strong></p>")),e.moderators&&e.moderators.length>0)for(var p=0;p<e.moderators.length;p++)p<e.moderators.length-1?n+=e.moderators[p]+", ":n+=e.moderators[p];return a.append($("<p>Session Moderators: "+n+"</p>")),a.append($("<p>Location: <em>"+t+"</em></p>")),a},c=function(e){var a=$("<td>"),n=$('<div class="row"></div>'),t=e.location||"TBA";if(e.award&&a.append($("<p><strong>"+e.award+"</strong></p>")),e.title&&a.append($("<p><strong>"+e.title+"</strong></p>")),1===e.speaker.length)a.append(m(e.speaker[0]));else if(e.speaker.length>1){a.append(n);for(var p=0;p<e.speaker.length;p++)n.append($('<div class="col-sm-6"></div>').append(m(e.speaker[p])))}return a.append($("<p>Location: <em>"+t+"</em></p>")),a},m=function(e){var a,n,t,p=$("<div>"),r=$('<div class="pull-left"></div>'),d=$('<div class="keynote-info"></div>'),o=e.speaker_type||"Invited Speaker";return n=$('<a href="../speakers/#'+createSpeakerId(e.name)+'"></a>'),t=$("<p><strong>"+o+"</strong>: "+e.name+"; "+e.affiliation+"</p>"),e.agenda_image&&(p.append(r),a=$('<img src="../images/keynotes/'+e.agenda_image+'" alt="'+e.name+'" class="keynote-thumbnail img-thumbnail" />'),e.bio?r.append(n.append(a)):r.append(a)),p.append(d),e.title&&d.append($("<p><strong>"+e.title+"</strong></p>")),e.bio?d.append(n.append(t)):d.append(t),e.time&&d.append("<p>Time: <em>"+e.time+"</em></p>"),p},g=function(e){var a,n=$("<td>"),t=e.location||"TBA";n.append($('<a href="../panels/#'+createPanelId(e.title)+'"></a>').append($("<p><strong>APSA Panel: "+e.title+"</strong></p>")));for(var p=0;p<e.participant.length;p++)a=e.participant[p],n.append(u(a,a.moderator));return n.append($("<p>Location: <em>"+t+"</em></p>")),e.description&&n.append(i(e.description)),n},u=function(e,a){var n,t=$('<div class="bubble-sm"></div>'),p="bubble-image",r=e.name;return n=$('<a href="../panels/#'+createSpeakerId(e.name)+'"></a>'),t.append(n),a&&(p="bubble-image panel-moderator",r="Moderator: "+r),n.append($('<div class="'+p+'" style="background-image: url(../images/panels/'+e.agenda_image+');"></div>')),n.append($("<p>"+r+"</p>")),t};$(document).ready(function(){$.getJSON("../../meeting_info/meeting_info.json",function(n){if(0===n.length)e.append($('<p class="lead text-center">Coming Soon!</p>'));else{var i,m,u="",v=0,f="",h=$('<div class="row"></div>'),b=o;!function(e){var a=$('<div class="top-navigation"></div>');e.append(a.append($('<p>Top <span class="glyphicon glyphicon-chevron-up"></span></p>')))}(e),e.append(a),a.append('<p><i class="fa fa-user-md fa-lg"></i> = APSA sponsored event</p>'),a.append(h);for(var y=0;y<n.length;y++)m=void 0,n[y].date!==u&&(v++,f=new Date(n[y].date),p(f,v,h),i=r(f,v,a),u=n[y].date),n[y].date&&n[y].time?("normal"===n[y].type.toLowerCase()?m=s:"session"===n[y].type.toLowerCase()?m=l:"keynote"===n[y].type.toLowerCase()?m=c:"panel"===n[y].type.toLowerCase()&&(m=g),d(n[y],i,b,m)):console.error("The "+t(y)+" event must have a date and time")}}).fail(function(e){console.error("Formatting error in JSON Schedule:",e)})})}();